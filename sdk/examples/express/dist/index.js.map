{"version":3,"file":"index.js","names":["_express","_interopRequireDefault","require","_sdk","console","log","init","dsn","environment","release","apiUrl","app","express","use","json","req","res","next","method","path","logRavenRequestTracker","get","send","Error","error","message","captureException","status","logRavenErrorHandler","err","server","listen"],"sources":["../index.ts"],"sourcesContent":["import express from 'express';\nimport { logRavenRequestTracker, logRavenErrorHandler, init, captureException } from '@lograven/sdk';\n\n// Initialize LogRaven\nconsole.log(\"Initializing LogRaven...\");\ninit({\n  dsn: '6369f64f-261b-4b3e-bd7c-309127deaf3a',\n  environment: 'development',\n  release: 'example-0.1.0',\n  apiUrl: 'http://localhost:3000',\n});\n\n// Create Express app\nconsole.log(\"Creating Express application...\");\nconst app = express();\napp.use(express.json());\n\n// Debug middleware\napp.use((req, res, next) => {\n  console.log(`[DEBUG] Received ${req.method} request to ${req.path}`);\n  next();\n});\n\n// Add LogRaven request tracker\nconsole.log(\"Adding LogRaven request tracker...\");\napp.use(logRavenRequestTracker());\n\n// Define routes\nconsole.log(\"Defining routes...\");\n\n// Home route\napp.get('/', (req, res) => {\n  console.log(\"[DEBUG] Home route handler executed\");\n  res.send('LogRaven Express Example - Home');\n});\n\n// Error route with try/catch\napp.get('/error', (req, res) => {\n  console.log(\"[DEBUG] Error route handler executed\");\n  try {\n    throw new Error('Contoh error dengan try/catch di Express');\n  } catch (error) {\n    console.log(\"[DEBUG] Caught error:\", error.message);\n    captureException(error);\n    res.status(500).send('Error ditangkap: ' + error.message);\n  }\n});\n\n// Error route without try/catch (should be handled by middleware)\napp.get('/uncaught', (req, res) => {\n  console.log(\"[DEBUG] Uncaught error route handler executed\");\n  // This error should be caught by the LogRaven error handler\n  throw new Error('Contoh error tanpa try/catch di Express');\n});\n\n// Test route\napp.get('/test', (req, res) => {\n  console.log(\"[DEBUG] Test route handler executed\");\n  res.send('Test route is working properly');\n});\n\n// Add LogRaven error handler\nconsole.log(\"Adding LogRaven error handler...\");\napp.use(logRavenErrorHandler());\n\n// Generic error handler (should be after LogRaven's)\napp.use((err, req, res, next) => {\n  console.log(\"[DEBUG] Express generic error handler executed:\", err.message);\n  res.status(500).send('Server error: ' + err.message);\n});\n\n// Start server\nconst server = app.listen(5555, () => {\n  console.log('---------------------------------------');\n  console.log('Server is running on http://localhost:5555');\n  console.log('Available routes:');\n  console.log('- GET / - Home page');\n  console.log('- GET /test - Test route');\n  console.log('- GET /error - Error with try/catch');\n  console.log('- GET /uncaught - Uncaught error (middleware)');\n  console.log('---------------------------------------');\n});\n"],"mappings":"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","ignoreList":[]}